<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="index.css">
    <title>Head/Tail Game</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.min.js" integrity="sha384-+sLIOodYLS7CIrQpBjl+C7nPvqq+FbNUBDunl/OZv93DB7Ln/533i8e/mZXLi/P+" crossorigin="anonymous"></script>
    <script src="https://kit.fontawesome.com/021c70449c.js" crossorigin="anonymous"></script>
</head>
<body>
    <div class="bg-container01 pt-5 pb-5">
                <div class="card pb-5">
                    <div class="card-body">
                        <div class="text-left">
                      <h5 class="game-heading">Heads or Tails</h5>
                    </div>
                      <div class="text-right">
                        <a href="https://youtu.be/EcLMnzznBFA" target="_blank">
                          <button class="game-video btn-primary mb-5">How To Play</button>
                        </a>
                        <!-- Button trigger modal -->
<button type="button" class="button02 mb-5" data-toggle="modal" data-target="#exampleModal">
    Game Info
  </button>
  </div>
  
  <!-- Modal -->
  <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Heads or Tails</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            
          </button>
        </div>
        <div class="modal-body">
            Heads Or Tails is a simple game that is based on chance. This game involves predicting the result of a flip of a coin. This means that you have a fifty â€“ fifty chance to win.
        </div>
        <div class="modal-footer">
          <button type="button" class="button01" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>
                      </div>
                      <div class="text-center">
                        <p id="manu"></p>
                        <div class="d-flex flex-row justify-content-center mt-5 pb-5">
                        <div class="coin-container mt-5">
                            <img id="coin" class="coin-image mt-5" src="https://res.cloudinary.com/dqrttxm5s/image/upload/v1687432015/coin_tail-removebg-preview_btq4dp.png" alt="Coin Tail">
                          </div>
                        </div>
                        <div data-v-4f258ed8="" class="form-row justify-content-center">
                          <div data-v-4f258ed8="" class="form-group col-lg-4 text-center">
                            <label data-v-4f258ed8="">Bet amount</label> 
                            <div data-v-4f258ed8="" class="input-group">
                              <input data-v-4f258ed8="" type="text" class="form-control text-center man01 ml-3" id="userValue01"> 
                              <div data-v-4f258ed8="" class="input-group-append">
                                <button data-v-4f258ed8="" type="button" class="btn btn-outline-light btn-sm border-right-0 btn01">min</button> 
                                <button data-v-4f258ed8="" type="button" class="btn btn-outline-light btn-sm border-right-0" id="decre">-10</button> 
                                <button data-v-4f258ed8="" type="button" class="btn btn-outline-light btn-sm border-right-0" id="incre">+10</button> 
                                <button data-v-4f258ed8="" type="button" class="btn btn-outline-light btn-sm mr-3">max</button>
                              </div>
                            </div>
                          </div> 
                          <div data-v-4f258ed8="" class="form-group col-lg-2 text-center">
                            <label data-v-4f258ed8="">Balance</label> 
                            <div data-v-4f258ed8="" class="input-group man02">
                              <input data-v-4f258ed8="" type="text" disabled="disabled" class="form-control rounded text-center man02 mr-3 ml-3"> 
                              <div data-v-4f258ed8="" class="invalid-feedback" style="display: none;">
                          Insufficient balance
                      </div>
                    </div>
                  </div>
                </div>
                        <div class="d-flex flex -row justify-content-center">
                            <button class="head-button  mr-2 mb-5">Heads</button>
                            <button class="tail-button mb-5">Tails</button>
                          </div>
                          
                      </div>
                    </div>
                  </div>
        <script>
            

            var coinElement = document.getElementById('coin');
var headImageUrl = 'https://res.cloudinary.com/dqrttxm5s/image/upload/v1687432016/coin_head-removebg-preview_pehn9a.png';
var tailImageUrl = 'https://res.cloudinary.com/dqrttxm5s/image/upload/v1687432015/coin_tail-removebg-preview_btq4dp.png';
var flipsRemaining = 1;
var newSound = new Audio("CoinFlipSound.mp3");
var headsButton = document.querySelector('.head-button');
var tailsButton = document.querySelector('.tail-button');
var resultElement = document.getElementById('manu');

headsButton.addEventListener('click', function() {
  flipsRemaining = 1; // Reset the number of flips
  flipCoin('heads');
});

tailsButton.addEventListener('click', function() {
  flipsRemaining = 1; // Reset the number of flips
  flipCoin('tails');
});

function flipCoin(buttonClicked) {
  coinElement.classList.add('flipped', 'move-animation');

  setTimeout(function() {
    var random = Math.random();
    var imageUrl = random < 0.5 ? headImageUrl : tailImageUrl;

    if (imageUrl === headImageUrl) {
      coinElement.src = imageUrl;
      coinElement.alt = "Coin Head";
      if (buttonClicked === 'heads') {
        setTimeout(function() {
          displayResult('The result is Head and You Won');
        }, 2000);
      } else {
        setTimeout(function() {
          displayResult('The result is Head and You Lose');
        }, 2000);
      }
    } else if (imageUrl === tailImageUrl) {
      coinElement.src = imageUrl;
      coinElement.alt = "Coin Tail";
      if (buttonClicked === 'tails') {
        setTimeout(function() {
          displayResult('The result is Tail and You Won');
        }, 2000);
      } else {
        setTimeout(function() {
          displayResult('The result is Tail and You Lose');
        }, 2000);
      }
    }

    setTimeout(function() {
      coinElement.classList.remove('flipped', 'move-animation');

      flipsRemaining--;

      if (flipsRemaining > 0) {
        setTimeout(function() {
          flipCoin(buttonClicked);
        }, 100); // Flip the coin again after a short delay
      }
    }, 1000);
  }, 250);
}

coinElement.addEventListener('animationstart', function() {
  newSound.play();
});

function displayResult(result) {
  resultElement.textContent = result;
  resultElement.style.display = "block";
}

headsButton.addEventListener("click", function(){
  resultElement.textContent = "";
  resultElement.style.display = "none";
});

tailsButton.addEventListener("click", function(){
  resultElement.textContent = "";
  resultElement.style.display = "none";

}); 


let a = document.getElementById("userValue01");
let b = document.getElementById("decre");
let c = document.getElementById("incre");


b.addEventListener("click", decrement01);

function decrement01(){
  let previous = a.value;
  let new01 = parseInt(previous) - 10;
  a.value = new01;

}
c.addEventListener("click", increment01);

function increment01(){
  let previous = a.value;
  let new01 = parseInt(previous) + 10;
  a.value = new01;

}





        </script>
</body>
</html>
